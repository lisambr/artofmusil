function getData(){fetch("https://camelsaidwhat.com/musil_wp/wp-json/wp/v2/painting?per_page=100&_embed").then(e=>e.json()).then(showPosts)}function showPosts(e){e.forEach(postPaint)}window.onload=getData();var counter=0;const main=document.querySelector("main"),scrollDiv=document.querySelector(".scroll");function postPaint(e){const t=document.querySelector("template").content.cloneNode(!0),n=e.title.rendered,o=e.painting_des,i=e.medium,l=e.id,r=e.painting.ID;function s(){document.querySelector(".class"+l).classList.toggle("movetextbox")}fetch("https://camelsaidwhat.com/musil_wp/wp-json/wp/v2/media/"+r).then(e=>e.json()).then(function(e){var t=document.getElementById(l);e.media_details.sizes.medium_large?t.setAttribute("src",e.media_details.sizes.medium_large.source_url):t.setAttribute("src",e.media_details.sizes.full.source_url);var n=t.parentNode.parentNode.parentNode,o=0;window.innerWidth>900?setTimeout(function(){o=document.getElementById(l).offsetWidth,n.style.minWidth=" calc("+o+"px + 18rem) "},1e3):setTimeout(function(){o=document.getElementById(l).offsetWidth,n.style.minWidth=" calc("+o+"px - 4rem) "},1e3)}),t.querySelector(".painting-title").innerHTML=n,t.querySelector(".painting-des").innerHTML=o,t.querySelector(".painting").setAttribute("alt","The painting"+n),t.querySelector(".painting").setAttribute("id",l),t.querySelector(".box-title").innerHTML=n,t.querySelector(".medium-text").innerHTML=i,t.querySelector(".textbox").classList.add("class"+l),main.appendChild(t),window.innerWidth>900?document.getElementById(l).addEventListener("click",s):document.getElementById(l).parentNode.parentNode.addEventListener("click",s),counter++;var c=document.getElementById("main-gallery").offsetWidth;scrollDiv.style.minHeight=c+"px",scrollDiv.style.setProperty("--main-width",counter)}if(window.innerWidth>900){window.addEventListener("scroll",function(){var e=window.scrollY;main.style.left="-"+e+"px";var t=e/(document.body.scrollHeight-742)*100;Math.floor(t)<=95?document.querySelector(".progress").style.left=t+"%":t=95});var scrollPosi=0;function scrollClick(){window.addEventListener("mousemove",moveBar)}function scrollUp(){window.removeEventListener("mousemove",moveBar)}function moveBar(e){e.clientX;var t=(event.clientX-76)/document.querySelector(".progressbar").offsetWidth*100;t>=0&&(Math.floor(t)<=95?document.querySelector(".progress").style.left=t+"%":t=95);var n=document.body.scrollHeight-742;scrollPosi=t*n/100,window.scroll(0,scrollPosi),main.style.left="-"+scrollPosi+"px"}document.querySelector(".progress").addEventListener("mousedown",scrollClick),window.addEventListener("mouseup",scrollUp)}else{var logo=document.querySelector(".logo");logo.setAttribute("href","#"),logo.addEventListener("click",openMenu);var menuCount=0;function openMenu(){const e=document.querySelector(".nav"),t=document.getElementById("nav-gal"),n=document.getElementById("nav-mus"),o=document.getElementById("nav-con");0==menuCount?(e.style.height="15rem",t.style.top="0",n.style.top="0",o.style.top="0",t.addEventListener("click",function(){location.href="gallery.html"}),n.addEventListener("click",function(){location.href="musil.html"}),o.addEventListener("click",function(){location.href="contact.html"}),menuCount++,console.log(menuCount)):(e.style.height="0",t.style.top="-5rem",n.style.top="-10rem",o.style.top="-15rem",menuCount=0)}}
